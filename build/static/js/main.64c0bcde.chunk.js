(this.webpackJsonphotel_safe_deposit_box_gp=this.webpackJsonphotel_safe_deposit_box_gp||[]).push([[0],{114:function(e,t,n){e.exports=n(218)},129:function(e,t){},131:function(e,t){},141:function(e,t){},143:function(e,t){},168:function(e,t){},170:function(e,t){},171:function(e,t){},177:function(e,t){},179:function(e,t){},197:function(e,t){},199:function(e,t){},211:function(e,t){},214:function(e,t){},217:function(e,t,n){},218:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(35),o=n.n(c),i=n(28),s=n(10),u=n.n(s),l=n(20),f=n(5),d=n(59),b=n.n(d);var p=function(e){var t=e.statusMsg,n=e.passCode,r=e.secretMasterCode,c=e.isLocked,o=e.lightOn;return a.a.createElement("div",{className:"backlit_screen "+(o?"backlit_screen--light_on":"")},a.a.createElement("div",{className:"backlit_screen__is_locked"},c?"Locked":"Unlocked"),a.a.createElement("div",{className:"backlit_screen__status_msg"},n?r||n:t))};var m=function(e){var t=e.enterPassCode,n=e.lockTheDoor;return e.unlockTheDoor,a.a.createElement("div",{className:"number_keypad"},function(){for(var e=[],r=function(n){e.push(a.a.createElement("div",{key:3*n-2,onClick:function(){return t(3*n-2)},className:"number_keypad__key"},3*n-2)),e.push(a.a.createElement("div",{key:3*n-1,onClick:function(){return t(3*n-1)},className:"number_keypad__key"},3*n-1)),e.push(a.a.createElement("div",{key:3*n,onClick:function(){return t(3*n)},className:"number_keypad__key"},3*n))},c=3;c>0;c--)r(c);return e.push(a.a.createElement("div",{key:"*",onClick:function(){return t("*")},className:"number_keypad__key"},"*")),e.push(a.a.createElement("div",{key:0,onClick:function(){return t(0)},className:"number_keypad__key"},"0")),e.push(a.a.createElement("div",{key:"L",onClick:function(){return n()},className:"number_keypad__key"},"L")),e}())},h=function(e){return function(){var t=Object(l.a)(u.a.mark((function t(n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:fetch("https://9w4qucosgf.execute-api.eu-central-1.amazonaws.com/default/CR-JS_team_M02a?code=".concat(e)).then((function(e){return e.json()})).then((function(e){return"4815162342"===e.sn?n({type:"CODE_CORRECT"}):n({type:"CODE_INCORRECT"})})).catch((function(e){return n({type:"CODE_INCORRECT"})}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};n(217);var k=function(e){arguments.length>1&&void 0!==arguments[1]||window;var t=Object(r.useState)("Ready"),n=Object(f.a)(t,2),c=n[0],o=n[1],s=Object(r.useState)(""),d=Object(f.a)(s,2),k=d[0],v=d[1],_=Object(r.useState)(!1),O=Object(f.a)(_,2),g=O[0],j=O[1],C=Object(r.useState)(""),y=Object(f.a)(C,2),w=y[0],E=y[1],T=Object(r.useState)(!1),x=Object(f.a)(T,2),S=x[0],N=x[1],R=Object(r.useState)(!1),L=Object(f.a)(R,2),D=L[0],I=L[1],W=Object(r.useState)(!1),M=Object(f.a)(W,2),U=M[0],A=M[1],P=Object(r.useState)(null),J=Object(f.a)(P,2),B=J[0],q=J[1],z=Object(r.useState)(null),$=Object(f.a)(z,2),F=$[0],G=$[1],H=Object(r.useState)(null),K=Object(f.a)(H,2),Q=K[0],V=K[1],X=Object(r.useState)(!1),Y=Object(f.a)(X,2),Z=Y[0],ee=Y[1],te=Object(r.useState)(""),ne=Object(f.a)(te,2),re=ne[0],ae=ne[1],ce=Object(i.b)(),oe=Object(i.c)((function(e){return e.forgetCode.isCodeCorrect}));Object(r.useEffect)((function(){var e=localStorage.getItem("code");return e&&(j(!0),E(e)),function(){clearTimeout(B),clearTimeout(F),clearTimeout(Q)}}),[]),Object(r.useEffect)((function(){D&&ue(),U&&le()}),[D,U]);var ie=function(e){clearTimeout(Q),clearTimeout(B),clearTimeout(F),N(!0),q(setTimeout((function(){N(!1),v("")}),5e3)),g?Z?(ae(re+e),G(setTimeout((function(){return A(!0)}),1200))):(v(k+e),G(setTimeout((function(){return I(!0)}),1200))):"*"!==e&&k.length<6?v(k+e):(v(""),o("Error"))},se=function(){var e=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g){e.next=16;break}if(6!==k.length||"000000"===k){e.next=11;break}return e.next=4,b.a.hash(k,12);case 4:t=e.sent,localStorage.setItem("code",t),E(t),o("Locking"),j(!0),e.next=12;break;case 11:o("Error");case 12:v(""),V(setTimeout((function(){return o("Ready")}),3e3)),e.next=18;break;case 16:Z?(ae(re+"L"),G(setTimeout((function(){return A(!0)}),1200))):(v(k+"L"),G(setTimeout((function(){return I(!0)}),1200))),clearTimeout(F);case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ue=function(){var e=Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("000000"!==k){e.next=6;break}v(""),ee(!0),o("Service"),e.next=19;break;case 6:return e.next=8,b.a.compare(k,w);case 8:if(!e.sent){e.next=15;break}o("Unlocking"),j(!1),E(""),localStorage.removeItem("code"),e.next=16;break;case 15:o("Error");case 16:v(""),I(!1),V(setTimeout((function(){return o("Ready")}),3e3));case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),le=function(){var e=Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(re.length>0)){e.next=6;break}return e.next=3,ce(h(re));case 3:ae(""),oe?(o("Unlocking"),E(""),j(!1),localStorage.removeItem("code")):o("Error"),A(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return a.a.createElement("div",{className:"panel"},a.a.createElement(p,{statusMsg:c,passCode:k,secretMasterCode:re,isLocked:g,lightOn:S}),a.a.createElement(m,{enterPassCode:ie,lockTheDoor:se,unlockTheDoor:ue}),a.a.createElement("p",null,"S/N: 4815162342"))},v=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function _(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var O=n(14),g=n(113),j=n(29),C={secretMasterCode:"",isCodeCorrect:!1},y=Object(O.c)({forgetCode:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CODE_CORRECT":return Object(j.a)(Object(j.a)({},e),{},{isCodeCorrect:!0});case"CODE_INCORRECT":return Object(j.a)(Object(j.a)({},e),{},{isCodeCorrect:!1});default:return e}}}),w=[g.a],E=Object(O.e)(y,Object(O.d)(O.a.apply(void 0,w)));o.a.render(a.a.createElement(i.a,{store:E},a.a.createElement(k,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/hotel_safe_deposit_box_gp",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/hotel_safe_deposit_box_gp","/service-worker.js");v?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):_(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):_(t,e)}))}}()}},[[114,1,2]]]);
//# sourceMappingURL=main.64c0bcde.chunk.js.map